---
import Layout from '../layouts/Layout.astro';
import { contentfulClient } from "../lib/contentful";
import type { Catalogue } from "../lib/contentful";

const entries = await contentfulClient.getEntries<Catalogue>({
  content_type: "colorins",
});

const posts = entries.items.map((item) => {
  const { category, title, color, tallas, price } = item.fields;
  return {
    category,
    title,
    color,
	tallas,
	price
  };
});
---

<Layout title="home" description="La mejor ropa para tu pequeÃ±o esta en colorins">
	<main class="flex justify-center items-center h-[80vh]">
		<h1>La mejor ropa solo en colorins</h1>
		<ul>
			{posts.map((post) => (
			  <li>
				<a href={`/posts/${post.category}/`}>
				  <h2>{post.title}</h2>
				</a>
				<p>{post.price}</p>
			  </li>
			))}
		  </ul>
	</main>
</Layout>

