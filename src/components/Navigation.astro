---
import Logo from "../images/logo-colorins.svg";
import newborn from "../images/navigation/new-born.png";

let navLinks = [
    {
        href: "/newborn",
        stage: "Recien nacido",
        title: "Recién nacido",
        subtitle: "Recién nacida",
        age: "0 a 18 meses",
        imagen: [
            {
                alt: "imagen de bebé",
                src: newborn.src,
            },
        ],
        children: [
            {
                nino: [
                    {
                        title: "Nmms",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Abrigos y Chamarras",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Suéter y sudaderas",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Toreras",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Blusas",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Playeras y Polos",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Vestidos",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Pantalones y Faldas",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Conjuntos",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                ],
            },
            {
                nina: [
                    {
                        title: "promociones",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                ],
            },
        ],
    },
    {
        href: "/baby",
        stage: "Baby",
        title: "Baby niño",
        subtitle: "Baby niña",
        age: "2 a 9 años",
        children: [
            {
                nino: [
                    {
                        title: "Abrigos y Chamarras",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Suéter y sudaderas",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Toreras",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Blusas",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Playeras y Polos",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Vestidos",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Pantalones y Faldas",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Conjuntos",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                ],
            },
            {
                nina: [
                    {
                        title: "promociones",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                ],
            },
        ],
    },
    {
        href: "/mini",
        stage: "Mini",
        title: "Mini niño",
        subtitle: "Mini niña",
        age: "2 a 9 años",
        children: [
            {
                nino: [
                    {
                        title: "Abrigos y Chamarras",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Suéter y sudaderas",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Toreras",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Blusas",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Playeras y Polos",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Vestidos",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Pantalones y Faldas",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Conjuntos",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                ],
            },
            {
                nina: [
                    {
                        title: "promociones",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                ],
            },
        ],
    },
    {
        href: "/junior",
        stage: "Junior",
        title: "Junior niño",
        subtitle: "Junior niña",
        age: "8 a 16 años",
        children: [
            {
                nino: [
                    {
                        title: "News",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Abrigos y Chamarras",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Suéter y sudaderas",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Toreras",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Blusas",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Playeras y Polos",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Vestidos",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Pantalones y Faldas",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "Conjuntos",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                ],
            },
            {
                nina: [
                    {
                        title: "promociones",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                    {
                        title: "View",
                        href: "/tdr-newborn/abrigos-newborn",
                    },
                ],
            },
        ],
    },
];
---

<style>
    .content-dropdown {
        display: none;
        position: absolute;
        z-index: 1;
    }
    .btn:hover .content-dropdown {
        display: flex;
        background: white;
        border-radius: 5px;
        border: 2px solid rgb(248 250 252);
    }
    .dropdown-gender {
        position: relative;
        border-bottom: 1px solid rgb(0, 0, 0, 0.255);
        padding: 8px 0;
        margin-bottom: 5px;
    }
    .btn-nino {
        cursor: pointer;
    }
    .content-nino {
        display: none;
    }
    .show {
        display: block;
    }
    .dropdown-gender-nina {
        position: relative;
        border-bottom: 1px solid rgb(0, 0, 0, 0.255);
        padding: 8px 0;
    }
    .content-nina {
        display: none;
    }

    .shownina {
        display: block;
    }

    /* iconos de nav */
    .fb-icon,
    .store-icon,
    .w-icon {
        fill: rgb(100 116 139);
    }
    .fb-icon:hover {
        fill: #1877f2;
        transition: fill 0.3s;
    }
    .store-icon:hover {
        fill: #fedd00;
        transition: fill 0.3s;
    }
    .w-icon:hover {
        fill: #25d366;
        transition: fill 0.3s;
    }

    /* Burger menu*/
    .nav-container {
        position: relative;
    }

    .nav-container .menu-items {
        display: none;
        position: absolute;
        top: 50px;
        left: 0;
        width: 100vw; /* Abarca todo el ancho del viewport */
        z-index: 1;
        transition: transform 0.3s ease-in-out;
        padding: 10px 0px;
        background: white;
    }

    .checkbox {
        display: none;
    }

    .hamburger-lines {
        display: block;
        height: 16px;
        width: 22px;
        z-index: 2;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        cursor: pointer;
    }

    .line {
        display: block;
        height: 2px;
        width: 100%;
        border-radius: 10px;
        background: rgb(100 116 139);
    }
    .nav-container input[type="checkbox"]:checked ~ .hamburger-lines .line1 {
        transform: rotate(-45deg) translate(-5px, 5px);
    }

    .nav-container input[type="checkbox"]:checked ~ .hamburger-lines .line2 {
        opacity: 0;
    }

    .nav-container input[type="checkbox"]:checked ~ .hamburger-lines .line3 {
        transform: rotate(45deg) translate(-5px, -5px);
    }
    .checkbox:checked ~ .menu-items {
        display: block;
    }

    .content-dropdown-burger {
        display: none;
        position: relative;
        z-index: 1;
    }

    .btn:hover .content-dropdown-burger {
        display: flex;
        background: white;
    }
</style>
<script>
    document.addEventListener("click", function (event) {
        const targetElement = event.target as Element;

        // Verifica si se hizo clic en un botón de niño, niña, junior niño o junior niña
        const buttonId = targetElement.closest(".btn-nino, .btn-nina");

        // Verifica si se hizo clic en cualquier otro lugar
        const isOutsideDropdown = !buttonId;

        // Oculta todos los menús desplegables al hacer clic fuera de ellos
        if (isOutsideDropdown) {
            document
                .querySelectorAll(".content-nino, .content-nina")
                .forEach((content) => {
                    content.classList.remove("show", "shownina");
                });
        }

        // Muestra u oculta el menú desplegable según el ID del botón
        if (buttonId) {
            const buttonType = buttonId.classList.contains("btn-nino")
                ? "nino"
                : "nina";
            const contentId = `${buttonType}C_${buttonId.id.split("_")[1]}`;
            const content = document.getElementById(contentId);

            if (content) {
                content.classList.toggle(
                    buttonType === "nino" ? "show" : "shownina",
                );
            }
        }
    });
</script>

<div class="hidden lg:py-2 lg:flex lg:items-center lg:justify-center">
    <ul class="flex items-center lg:space-x-8">
        <div>
            <a href="/">
                <img src={Logo.src} alt="Logotipo colorins" />
            </a>
        </div>

        <div class="">
            {
                (
                    <ul class="flex">
                        {navLinks.map((item, index) => (
                            <li class="btn mx-4">
                                <div tabindex="0">
                                    <h2 class="text-base text-center">
                                        {item.stage}
                                    </h2>
                                    <p class="text-gray-500 text-sm text-center">
                                        {item.age}
                                    </p>
                                </div>
                                {item.children && item.children.length > 0 ? (
                                    <div class="content-dropdown absolute p-4">
                                        <div class="mr-8 ml-4">
                                            <div class="dropdown-gender ">
                                                <div
                                                    class="btn-nino pr-24"
                                                    id={`buttonN_${index}`}
                                                    tabindex="0"
                                                >
                                                    <p class="font-semibold">
                                                        {item.title}
                                                    </p>
                                                </div>

                                                {item.children.map((chil) => (
                                                    <ul
                                                        class="content-nino mr-8"
                                                        id={`ninoC_${index}`}
                                                    >
                                                        {chil.nino &&
                                                            chil.nino.length >
                                                                0 &&
                                                            chil.nino.map(
                                                                (gender) => (
                                                                    <li class=" my-2">
                                                                        <a
                                                                            href={
                                                                                gender.href
                                                                            }
                                                                        >
                                                                            <h2>
                                                                                {
                                                                                    gender.title
                                                                                }
                                                                            </h2>
                                                                        </a>
                                                                    </li>
                                                                ),
                                                            )}
                                                    </ul>
                                                ))}
                                            </div>
                                            <div class="dropdown-gender-nina">
                                                <button
                                                    class="btn-nina"
                                                    id={`buttonNi_${index}`}
                                                    tabindex="0"
                                                >
                                                    <p class="font-semibold">
                                                        {item.subtitle}
                                                    </p>
                                                </button>

                                                {item.children.map(
                                                    (chil, subindex) => (
                                                        <ul
                                                            class="content-nina"
                                                            id={`ninaC_${index}`}
                                                        >
                                                            {chil.nina &&
                                                                chil.nina
                                                                    .length >
                                                                    0 &&
                                                                chil.nina.map(
                                                                    (
                                                                        gender,
                                                                    ) => (
                                                                        <li class="my-2">
                                                                            <a
                                                                                href={
                                                                                    gender.href
                                                                                }
                                                                            >
                                                                                <h2>
                                                                                    {
                                                                                        gender.title
                                                                                    }
                                                                                </h2>
                                                                            </a>
                                                                        </li>
                                                                    ),
                                                                )}
                                                        </ul>
                                                    ),
                                                )}
                                            </div>
                                            <div class="py-4 hover:text-gray-500">
                                                <a href={item.href}>
                                                    <p>
                                                        Ver todo{" "}
                                                        <span>&rarr;</span>
                                                    </p>
                                                </a>
                                            </div>
                                        </div>
                                        {item.imagen &&
                                            item.imagen.map((image) => (
                                                <div>
                                                    <img
                                                        class="rounded-xl"
                                                        src={image.src}
                                                        alt={image.alt}
                                                        tabindex="0"
                                                    />
                                                </div>
                                            ))}
                                    </div>
                                ) : null}
                            </li>
                        ))}
                    </ul>
                )
            }
        </div>

        <div class="flex space-x-3">
            <a href="https://www.facebook.com/colorins.mx">
                <svg
                    class="fb-icon"
                    xmlns="http://www.w3.org/2000/svg"
                    height="17"
                    width="12"
                    viewBox="0 0 320 512"
                    ><path
                        d="M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"
                    ></path></svg
                >
            </a>
            <a href="https://maps.app.goo.gl/onVTy5qLywiV47v97">
                <svg
                    class="store-icon"
                    xmlns="http://www.w3.org/2000/svg"
                    height="18"
                    width="20"
                    viewBox="0 0 576 512"
                    ><path
                        d="M547.6 103.8L490.3 13.1C485.2 5 476.1 0 466.4 0H109.6C99.9 0 90.8 5 85.7 13.1L28.3 103.8c-29.6 46.8-3.4 111.9 51.9 119.4c4 .5 8.1 .8 12.1 .8c26.1 0 49.3-11.4 65.2-29c15.9 17.6 39.1 29 65.2 29c26.1 0 49.3-11.4 65.2-29c15.9 17.6 39.1 29 65.2 29c26.2 0 49.3-11.4 65.2-29c16 17.6 39.1 29 65.2 29c4.1 0 8.1-.3 12.1-.8c55.5-7.4 81.8-72.5 52.1-119.4zM499.7 254.9l-.1 0c-5.3 .7-10.7 1.1-16.2 1.1c-12.4 0-24.3-1.9-35.4-5.3V384H128V250.6c-11.2 3.5-23.2 5.4-35.6 5.4c-5.5 0-11-.4-16.3-1.1l-.1 0c-4.1-.6-8.1-1.3-12-2.3V384v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V384 252.6c-4 1-8 1.8-12.3 2.3z"
                    ></path></svg
                >
            </a>
            <a href="">
                <svg
                    class="w-icon"
                    xmlns="http://www.w3.org/2000/svg"
                    height="20"
                    width="21"
                    viewBox="0 0 448 512"
                    ><path
                        d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"
                    ></path></svg
                >
            </a>
        </div>
    </ul>
</div>
<!--Burger menu -->
<div class="nav-container py-6 flex justify-between lg:hidden">
    <ul class="flex justify-between w-full px-3 lg:space-x-8">
        <div>
            <a href="/">
                <img src={Logo.src} alt="Logotipo colorins" />
            </a>
        </div>
        <div class="flex">
            <div class="flex space-x-3 mr-4">
                <a href="https://www.facebook.com/colorins.mx">
                    <svg
                        class="fb-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        height="17"
                        width="12"
                        viewBox="0 0 320 512"
                        ><path
                            d="M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"
                        ></path></svg
                    >
                </a>
                <a href="https://maps.app.goo.gl/onVTy5qLywiV47v97">
                    <svg
                        class="store-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        height="18"
                        width="20"
                        viewBox="0 0 576 512"
                        ><path
                            d="M547.6 103.8L490.3 13.1C485.2 5 476.1 0 466.4 0H109.6C99.9 0 90.8 5 85.7 13.1L28.3 103.8c-29.6 46.8-3.4 111.9 51.9 119.4c4 .5 8.1 .8 12.1 .8c26.1 0 49.3-11.4 65.2-29c15.9 17.6 39.1 29 65.2 29c26.1 0 49.3-11.4 65.2-29c15.9 17.6 39.1 29 65.2 29c26.2 0 49.3-11.4 65.2-29c16 17.6 39.1 29 65.2 29c4.1 0 8.1-.3 12.1-.8c55.5-7.4 81.8-72.5 52.1-119.4zM499.7 254.9l-.1 0c-5.3 .7-10.7 1.1-16.2 1.1c-12.4 0-24.3-1.9-35.4-5.3V384H128V250.6c-11.2 3.5-23.2 5.4-35.6 5.4c-5.5 0-11-.4-16.3-1.1l-.1 0c-4.1-.6-8.1-1.3-12-2.3V384v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V384 252.6c-4 1-8 1.8-12.3 2.3z"
                        ></path></svg
                    >
                </a>
                <a href="">
                    <svg
                        class="w-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        height="20"
                        width="21"
                        viewBox="0 0 448 512"
                        ><path
                            d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"
                        ></path></svg
                    >
                </a>
            </div>
            <div class="">
                <input
                    class="checkbox"
                    type="checkbox"
                    name=""
                    id="menu-toggle"
                />
                <label class="hamburger-lines" for="menu-toggle">
                    <span class="line line1"></span>
                    <span class="line line2"></span>
                    <span class="line line3"></span>
                </label>
                <div class="menu-items">
                    {
                        (
                            <ul class="">
                                {navLinks.map((item, index) => (
                                    <li class="btn mx-4 my-2">
                                        <div
                                            tabindex="0"
                                            class="btn flex flex-col relative"
                                        >
                                            <h2 class="text-base">
                                                {item.stage}
                                            </h2>
                                            <p class="text-gray-500 text-sm">
                                                {item.age}
                                            </p>
                                        </div>
                                        {item.children &&
                                        item.children.length > 0 ? (
                                            <div class="content-dropdown-burger">
                                                <div class="">
                                                    <div class="dropdown-gender ">
                                                        <div
                                                            class="btn-nino w-[90vw]"
                                                            id={`buttonNm_${index}`}
                                                            tabindex="0"
                                                        >
                                                            <p class="font-semibold">
                                                                {item.title}
                                                            </p>
                                                        </div>

                                                        {item.children.map(
                                                            (chil) => (
                                                                <ul
                                                                    class="content-nino mr-8"
                                                                    id={`ninoCm_${index}`}
                                                                >
                                                                    {chil.nino &&
                                                                        chil
                                                                            .nino
                                                                            .length >
                                                                            0 &&
                                                                        chil.nino.map(
                                                                            (
                                                                                gender,
                                                                                index,
                                                                            ) => (
                                                                                <li class=" my-2">
                                                                                    <a
                                                                                        href={
                                                                                            gender.href
                                                                                        }
                                                                                    >
                                                                                        <h2>
                                                                                            {
                                                                                                gender.title
                                                                                            }
                                                                                        </h2>
                                                                                    </a>
                                                                                </li>
                                                                            ),
                                                                        )}
                                                                </ul>
                                                            ),
                                                        )}
                                                    </div>
                                                    <div class="dropdown-gender-nina ">
                                                        <button
                                                            class="btn-nina"
                                                            tabindex="0"
                                                        >
                                                            <p class="font-semibold">
                                                                {item.subtitle}
                                                            </p>
                                                        </button>

                                                        {item.children.map(
                                                            (chil) => (
                                                                <ul class="content-nina">
                                                                    {chil.nina &&
                                                                        chil
                                                                            .nina
                                                                            .length >
                                                                            0 &&
                                                                        chil.nina.map(
                                                                            (
                                                                                gender,
                                                                                index,
                                                                            ) => (
                                                                                <li class="my-2">
                                                                                    <a
                                                                                        href={
                                                                                            gender.href
                                                                                        }
                                                                                    >
                                                                                        <h2>
                                                                                            {
                                                                                                gender.title
                                                                                            }
                                                                                        </h2>
                                                                                    </a>
                                                                                </li>
                                                                            ),
                                                                        )}
                                                                </ul>
                                                            ),
                                                        )}
                                                    </div>
                                                    <div class="py-4 hover:text-gray-500">
                                                        <a href={item.href}>
                                                            <p>
                                                                Ver todo{" "}
                                                                <span>
                                                                    &rarr;
                                                                </span>
                                                            </p>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        ) : null}
                                    </li>
                                ))}
                            </ul>
                        )
                    }
                </div>
            </div>
        </div>
    </ul>
</div>
